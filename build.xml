<project name="Java Cookbook Examples" default="build" basedir=".">

	<!-- Ant buildfile for Java Cookbook examples.
		$Id$
		-->

	<!-- set global properties for this build -->
	<property name="src" value="."/>

	<target name="init">
		<tstamp/><!-- Create time stamp variables -->

		<!-- conditional properties -->
		<condition property="RE_1.4">
			<available className="java.util.regex.Pattern"/>
		</condition>

		<condition property="imageio_1.4">
			<!-- XXX -->
			<available className="java.util.regex.Pattern"/>
		</condition>
		
	</target>

	<!-- index everything, for findJava.org -->
	<target name="index">
		<ant antfile="buildindex.xml" inheritAll="false"/>
	</target>

	<!-- compile APIs needed by other parts of the file -->
	<target name="api" depends="init">
		<echo message="==> com.darwinsys.util"/>
		<ant target="jar" dir="com.darwinsys.util" inheritAll="false"/>
		<echo message="==> spdf"/>
		<ant target="jar" dir="spdf"/>
	</target>

	<!-- compile everything, for JavaCookbook reliability :-) -->
	<target name="build" description="compile all" depends="api">
		<ant target="build" dir="acks"/>
		<ant target="build" dir="applet"/>
		<ant target="build" dir="beans"/>
		<echo message="==> ChartBean"/>
		<ant target="build" dir="ChartBean"/>
		<ant target="build" dir="classloader"/>
		<ant target="build" dir="ColumnLayout"/>
		<ant target="build" dir="com.darwinsys.regexp"/>
		<ant target="build" dir="cookiecutter"/>
		<ant target="build" dir="crssetup"/>
		<ant target="build" dir="datetime"/>
		<ant target="build" dir="DBM"/>
		<ant target="build" dir="dir_file"/>
		<ant target="build" dir="email"/>
		<ant target="build" dir="environ"/>
		<ant target="build" dir="filterGUI"/>
		<ant target="build" dir="gc"/>
		<ant target="build" dir="graphics"/>
		<ant target="build" dir="gui"/>
		<ant target="build" dir="i18n"/>
		<ant target="build" dir="introspection"/>
		<ant target="build" dir="io"/>
		<echo message="==> javacomm"/>
		<!-- javacomm.api must precede javacomm -->
		<ant target="build" dir="javacomm.api"/>
		<ant target="build" dir="javacomm"/>
		<ant target="build" dir="javadoc"/>
		<ant target="build" dir="jdb"/>
		<echo message="==> JDBC"/>
		<ant target="build" dir="JDBC"/>
		<ant target="build" dir="JMS"/>
		<ant target="build" dir="JNDI"/>
		<ant target="build" dir="jndi-services"/>
		<ant target="build" dir="jsp"/>
		<ant target="build" dir="jsptags"/>
		<echo message="==> language"/>
		<ant target="build" dir="language"/>
		<echo message="native1.1 not built -- you have to tweak the Makefile"/>
		<ant target="build" dir="NETWatch"/>
		<ant target="build" dir="netweb"/>
		<ant target="build" dir="network"/>
		<ant target="build" dir="numbers"/>
		<echo message="==> oo"/>
		<ant target="build" dir="oo"/>
		<ant target="build" dir="otherlang"/>
		<ant target="build" dir="packaging"/>
		<ant target="build" dir="performance"/>
		<ant target="build" dir="Plotter"/>
		<ant target="build" dir="prefs"/>
		<ant target="build" dir="quizzes"/>
		<echo message="==> RE"/><ant target="RE"/>
		<ant target="build" dir="RE-apache"/>
		<ant target="build" dir="RelLayout"/>
		<ant target="build" dir="rmi"/>
		<ant target="build" dir="search"/>
		<ant target="build" dir="seating"/>
		<ant target="build" dir="servlet"/>
		<ant target="build" dir="ShowDocument"/>
		<ant target="build" dir="signals"/>
		<echo message="==> starting"/>
		<ant target="build" dir="starting"/>
		<ant target="build" dir="strings"/>
		<ant target="build" dir="structure"/>
		<ant target="build" dir="TabLayout"/>
		<ant target="build" dir="tar"/>
		<ant target="build" dir="testing"/>
		<ant target="build" dir="textproc"/>
		<ant target="build" dir="threads"/>
		<ant target="build" dir="tmtimer"/>
		<ant target="build" dir="tools"/>
		<echo message="==> webserver"/>
		<ant target="build" dir="webserver"/>
		<ant target="build" dir="wildmat"/>
		<ant target="build" dir="XColor"/>
		<ant target="build" dir="xml"/>
		<ant target="build" dir="xmlform"/>
	</target>

	<!-- optional targets -->
	<target name="RE" if="RE_1.4">
		<ant target="build" dir="RE"/>
	</target>
</project>
