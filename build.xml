<project name="Java Cookbook Examples" default="build" basedir=".">

	<!-- Ant buildfile for Java Cookbook examples.
		$Id$
		-->

	<!-- set global properties for this build -->
	<property name="src" value="."/>

	<target name="init">
		<splash imageurl="file:images/javacook.jpg" showduration="0"/>

		<tstamp/>

		<!-- conditional properties -->
		<available property="avail.prefs" className="java.util.prefs.Preferences"/>

		<available property="avail.RE.1.4" className="java.util.regex.Pattern"/>

		<available property="avail.RE.apache" className="org.apache.regexp.RE"/>

		<condition property="avail.javamail">
			<and>
				<available className="javax.mail.Message"/>
				<available className="javax.activation.Handler"/>
			</and>
		</condition>

		<available property="avail.jmf" classname="javax.media.Controllerlistener" />

		<available property="avail.nio" className="java.nio.Buffer"/>

		
		<available property="avail.imageio.1.4" className="java.awt.image.ColorModel"/>

		<available property="avail.jdom" className="org.jdom.Document"/>
		
		<condition property="avail.javacomm">
			<available className="javax.comm.CommPortOpen"/>
		</condition>

		<available property="avail.pdflib" className="com.pdflib.Document"/>
		
	</target>

	<!-- index everything, for findJava.org -->
	<target name="index">
		<ant antfile="buildindex.xml" inheritAll="false"/>
	</target>

	<!-- compile APIs needed by other parts of the file -->
	<target name="api" depends="init">
		<echo message="==> com.darwinsys.util"/>
		<ant target="jar" dir="com.darwinsys.util" inheritAll="false"/>
		<echo message="==> spdf"/>
		<ant target="jar" dir="spdf"/>
		<echo message="==> RE-darwinsys"/>
		<ant dir="com.darwinsys.regexp"/>
	</target>

	<!-- compile everything, for JavaCookbook reliability :-) -->
	<target name="build" description="compile all" depends="api">
		<echo message="==> acks"/>
		<ant dir="acks"/>
		<echo message="==> applet"/>
		<ant dir="applet"/>
		<echo message="==> beans"/>
		<ant dir="beans"/>
		<echo message="==> ChartBean"/>
		<ant dir="ChartBean"/>
		<echo message="==> classloader"/>
		<ant dir="classloader"/>
		<echo message="==> cookiecutter"/>
		<ant dir="cookiecutter"/>
		<echo message="==> crssetup"/>
		<ant dir="crssetup"/>
		<echo message="==> datetime"/>
		<ant dir="datetime"/>
		<echo message="==> DBM"/>
		<ant dir="DBM"/>
		<echo message="==> dir_file"/>
		<ant dir="dir_file"/>
		<echo message="==> email"/>
		<ant dir="email"/>
		<echo message="==> environ"/>
		<ant dir="environ"/>
		<echo message="==> gc"/>
		<ant dir="gc"/>
		<echo message="==> graphics"/>
		<ant dir="graphics"/>
		<echo message="==> gui"/>
		<ant dir="gui"/>
		<echo message="==> i18n"/>
		<ant dir="i18n"/>
		<echo message="==> introspection"/>
		<ant dir="introspection"/>
		<echo message="==> io"/>
		<ant dir="io"/>
		<echo message="==> javacomm"/>
		<!-- javacomm.api must precede javacomm -->
		<ant dir="javacomm.api"/>
		<echo message="==> javacomm"/>
		<ant dir="javacomm"/>
		<echo message="==> javadoc"/>
		<ant dir="javadoc"/>
		<echo message="==> jdb"/>
		<ant dir="jdb"/>
		<echo message="==> JDBC"/>
		<ant dir="JDBC"/>
		<echo message="==> JMS"/>
		<ant dir="JMS"/>
		<echo message="==> JNDI"/>
		<ant dir="JNDI"/>
		<echo message="==> jndi-services"/>
		<ant dir="jndi-services"/>
		<echo message="==> jsp"/>
		<ant dir="jsp"/>
		<echo message="==> jsptabs"/>
		<ant dir="jsptags"/>
		<echo message="==> language"/>
		<ant dir="language"/>
		<echo message="native1.1 not built -- you have to tweak the Makefile"/>
		<echo message="==> NETwatch"/>
		<ant dir="NETWatch"/>
		<echo message="==> netweb"/>
		<ant dir="netweb"/>
		<echo message="==> network"/>
		<ant dir="network"/>
		<echo message="==> numbers"/>
		<ant dir="numbers"/>
		<echo message="==> oo"/>
		<ant dir="oo"/>
		<echo message="==> otherlang"/>
		<ant dir="otherlang"/>
		<echo message="==> packaging"/>
		<ant dir="packaging"/>
		<echo message="==> performance"/>
		<ant dir="performance"/>
		<echo message="==> Plotter"/>
		<ant dir="Plotter"/>
		<echo message="==> prefs"/>
		<ant target="prefs"/>
		<echo message="==> quizzes"/>
		<ant dir="quizzes"/>
		<echo message="==> RE"/>
		<ant target="RE.1.4"/>
		<echo message="==> RE-apache"/>
		<ant target="RE.apache"/>
		<echo message="==> RMI"/>
		<ant dir="rmi"/>
		<echo message="==> search"/>
		<ant dir="search"/>
		<echo message="==> seating"/>
		<ant dir="seating"/>
		<echo message="==> servlet"/>
		<ant dir="servlet"/>
		<echo message="==> ShowDocument"/>
		<ant dir="ShowDocument"/>
		<echo message="==> signals"/>
		<ant dir="signals"/>
		<echo message="==> starting"/>
		<ant dir="starting"/>
		<echo message="==> strings"/>
		<ant dir="strings"/>
		<echo message="==> structure"/>
		<ant dir="structure"/>
		<echo message="==> tar"/>
		<ant dir="tar"/>
		<echo message="==> testing"/>
		<ant dir="testing"/>
		<echo message="==> textproc"/>
		<ant dir="textproc"/>
		<echo message="==> threads"/>
		<ant dir="threads"/>
		<echo message="==> tmtimer"/>
		<ant dir="tmtimer"/>
		<echo message="==> tools"/>
		<ant dir="tools"/>
		<echo message="==> webserver"/>
		<ant dir="webserver"/>
		<echo message="==> wildmat"/>
		<ant dir="wildmat"/>
		<echo message="==> XColor"/>
		<ant dir="XColor"/>
		<echo message="==> xml"/>
		<ant dir="xml"/>
		<echo message="==> xmlform"/>
		<ant dir="xmlform"/>
	</target>

	<!-- optional targets -->
	<target name="prefs" if="avail.prefs">
		<ant dir="prefs"/>
	</target>

	<target name="RE.1.4" if="avail.RE.1.4">
		<ant dir="RE"/>
	</target>

	<target name="RE.apache" if="avail.RE.apache">
		<ant dir="RE-apache"/>
	</target>

	<!-- clean up -->
	<!--
	<target name='clean'>
		<delete dir="${build}"/>
	</target>
	-->
</project>
