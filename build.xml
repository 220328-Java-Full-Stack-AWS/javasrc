<project name="Java Cookbook Examples" default="build" basedir=".">

	<!-- Ant buildfile for Java Cookbook examples.
		$Id$
		-->

	<!-- set global properties for this build -->
	<property name="src" value="."/>

	<target name="init">
		<splash imageurl="file:images/javacook.jpg" showduration="0"/>

		<tstamp/>

		<!-- conditional properties -->
		<condition property="RE_1.4">
			<available className="java.util.regex.Pattern"/>
		</condition>

		<condition property="imageio_1.4">
			<!-- XXX -->
			<available className="java.util.regex.Pattern"/>
		</condition>
		
	</target>

	<!-- index everything, for findJava.org -->
	<target name="index">
		<ant antfile="buildindex.xml" inheritAll="false"/>
	</target>

	<!-- compile APIs needed by other parts of the file -->
	<target name="api" depends="init">
		<echo message="==> com.darwinsys.util"/>
		<ant target="jar" dir="com.darwinsys.util" inheritAll="false"/>
		<echo message="==> spdf"/>
		<ant target="jar" dir="spdf"/>
	</target>

	<!-- compile everything, for JavaCookbook reliability :-) -->
	<target name="build" description="compile all" depends="api">
		<ant dir="acks"/>
		<ant dir="applet"/>
		<ant dir="beans"/>
		<echo message="==> ChartBean"/>
		<ant dir="ChartBean"/>
		<ant dir="classloader"/>
		<ant dir="ColumnLayout"/>
		<ant dir="com.darwinsys.regexp"/>
		<ant dir="cookiecutter"/>
		<ant dir="crssetup"/>
		<ant dir="datetime"/>
		<ant dir="DBM"/>
		<ant dir="dir_file"/>
		<ant dir="email"/>
		<ant dir="environ"/>
		<ant dir="filterGUI"/>
		<ant dir="gc"/>
		<ant dir="graphics"/>
		<ant dir="gui"/>
		<ant dir="i18n"/>
		<ant dir="introspection"/>
		<ant dir="io"/>
		<echo message="==> javacomm"/>
		<!-- javacomm.api must precede javacomm -->
		<ant dir="javacomm.api"/>
		<ant dir="javacomm"/>
		<ant dir="javadoc"/>
		<ant dir="jdb"/>
		<echo message="==> JDBC"/>
		<ant dir="JDBC"/>
		<ant dir="JMS"/>
		<ant dir="JNDI"/>
		<ant dir="jndi-services"/>
		<ant dir="jsp"/>
		<ant dir="jsptags"/>
		<echo message="==> language"/>
		<ant dir="language"/>
		<echo message="native1.1 not built -- you have to tweak the Makefile"/>
		<ant dir="NETWatch"/>
		<ant dir="netweb"/>
		<ant dir="network"/>
		<ant dir="numbers"/>
		<echo message="==> oo"/>
		<ant target="regress" dir="oo"/>
		<ant dir="otherlang"/>
		<ant dir="packaging"/>
		<ant dir="performance"/>
		<ant dir="Plotter"/>
		<ant dir="prefs"/>
		<ant dir="quizzes"/>
		<echo message="==> RE"/><ant target="RE"/>
		<ant dir="RE-apache"/>
		<ant dir="RelLayout"/>
		<ant dir="rmi"/>
		<ant dir="search"/>
		<ant dir="seating"/>
		<ant dir="servlet"/>
		<ant dir="ShowDocument"/>
		<ant dir="signals"/>
		<echo message="==> starting"/>
		<ant dir="starting"/>
		<ant dir="strings"/>
		<ant dir="structure"/>
		<ant dir="TabLayout"/>
		<ant dir="tar"/>
		<ant dir="testing"/>
		<ant dir="textproc"/>
		<ant dir="threads"/>
		<ant dir="tmtimer"/>
		<ant dir="tools"/>
		<echo message="==> webserver"/>
		<ant dir="webserver"/>
		<ant dir="wildmat"/>
		<ant dir="XColor"/>
		<ant dir="xml"/>
		<ant dir="xmlform"/>
	</target>

	<!-- optional targets -->
	<target name="RE" if="RE_1.4">
		<ant target="build" dir="RE"/>
	</target>
</project>
