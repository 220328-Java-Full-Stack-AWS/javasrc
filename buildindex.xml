<project name="Java Src Index" default="index" basedir=".">

	<!-- build and install the online index
		$Id$
		-->

	<target name="index">
		<ant dir="search" target="compile"/>
		<property name="lucene.jar" value="WEB-INF/lib/lucene-1.3-dev1.jar" />
		<java classname="Indexer" classpath="search:${lucene.jar}" />
		<mkdir dir="WEB-INF/index"/> <!-- ensure it there for robuse move -->
		<move todir="WEB-INF/index.bak">
			<fileset dir="WEB-INF/index"/>
		</move>
		<move todir="WEB-INF/index">
			<fileset dir="index"/>
		</move>
		<delete dir="WEB-INF/index.bak"/>
	</target>

</project>
